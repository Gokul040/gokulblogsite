<div class="container table-responsive mt-5">
    <div class="adminHead">
        <h1>Blog Category Management</h1>
    </div>
    <div class="d-flex justify-content-end"><button class="btn btn-success" data-bs-toggle="modal"
            data-bs-target="#addBlog">New <i class="bi bi-window-plus"></i></button></div>
    <table id="example" datatable [dtOptions]="dtOptions" id="datatableexample"
        class="table table-striped table-hover table-borderless" style="width:100%" cellspacing="0">
        <thead>
            <tr>
                <th>#</th>
                <th>ID</th>
                <th>Category Name</th>
                <th>Total Blogs</th>
                <th>Image</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of formModel">
                <td class="tbContent">#</td>
                <td class="tbContent">{{ item.id }}</td>
                <td class="tbContent">{{ item.blogCategoryName }}</td>
                <td class="tbContent">{{item.totalBlogs}}</td>
                <td class="tbContent"><img src="{{item.categoryImage}}" alt="image" height="30px" width="30px"></td>
                <td class="tbContent">


                    <button class="btn btn-info btn-sm ms-2" (click)="edit(item)" data-bs-toggle="modal"
                        data-bs-target="#editBlog" style="color: white;">Edit
                        <i class=" bi bi-pencil-fill" style="color: white;"></i>
                    </button>
                    <button class="btn btn-danger btn-sm ms-2" data-bs-toggle="modal" data-bs-target="#deleteModel"
                        style="color: white;" (click)="getId(item.id)">Delete
                        <i class="bi bi-trash3-fill" style="color: white;"></i>
                    </button>
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <th>#</th>
                <th>ID</th>
                <th>Category Name</th>
                <th>Total Blogs</th>
                <th>Image</th>
                <th>Actions</th>
            </tr>
        </tfoot>
    </table>
</div>



<!--Add Modal -->
<div class="modal fade " id="addBlog" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content bac-color">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Add Category</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form [formGroup]="categoryForm">
                <div class="modal-body d-flex flex-wrap">

                    <div class="card-body mx-3 mt-3">
                        <div class="form-group  mb-4">
                            <label for="inputClientCompany">Category Name</label>
                            <input type="text" id="inputClientCompany" class="form-control"
                                formControlName="blogCategoryName">
                        </div>

                        <div class="form-group mb-4">
                            <label for="inputProjectLeader">Category Image</label>
                            <input type="url" id="inputProjectLeader" class="form-control"
                                formControlName="categoryImage">
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                        (click)="getCategory()">Close</button>
                    <button type="submit" (click)="addCategory()" [disabled]="!categoryForm.valid"
                        class="btn btn-primary">Create</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!--Edit Modal -->
<div class="modal fade " id="editBlog" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content bac-color">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Edit Author Details</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body d-flex flex-wrap">

                <div class="card-body mx-3 mt-3">
                    <div class="form-group  mb-4">
                        <label for="inputClientCompany">Category Name</label>
                        <input type="text" id="inputClientCompany" class="form-control"
                            [(ngModel)]="formModel.blogCategoryName">
                    </div>

                    <div class="form-group mb-4">
                        <label for="inputProjectLeader">Category Image</label>
                        <input type="url" id="inputProjectLeader" class="form-control"
                            [(ngModel)]="formModel.categoryImage">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                    (click)="getCategory()">Close</button>
                <button type="button" class="btn btn-primary" (click)="updateCategory()">Modify</button>
            </div>
        </div>
    </div>
</div>


<!--Delete Modal -->
<div class="modal fade" id="deleteModel" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Are you sure! you want to delete</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                You cannot retrive the data after the delete...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                    (click)="getCategory()">Close</button>
                <button type="button" class="btn btn-primary" (click)="deleteCategory()">Confirm</button>
            </div>
        </div>
    </div>
</div>